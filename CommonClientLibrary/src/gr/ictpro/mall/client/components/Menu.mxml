<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 width="200" height="100%">
	<fx:Metadata>
		[Event(name="change", type="flash.events.Event")]
	</fx:Metadata>
	<fx:Script>
		<![CDATA[
			import mx.collections.ArrayList;
			
			import spark.events.IndexChangeEvent;


			[Bindable]
			public var menuList:ArrayList;
			
			private var _selectedItem:Object = null;

			private var _dontChange:Boolean = false;
			
			public function get selectedItem():Object
			{
				return _selectedItem;
			}
			
			public function set selectedItem(selectedItem:Object):void
			{
				_dontChange = true;
				_selectedItem = selectedItem;
				list.selectedItem = _selectedItem;
				_dontChange = false;
			}
			protected function list1_changeHandler(event:IndexChangeEvent):void
			{
				
				if(event.newIndex !=-1 && !_dontChange) {
					if(menuList.getItemAt(event.newIndex).isGroup) {
						event.currentTarget.selectedIndex = event.oldIndex;
					} else {
						selectedItem = menuList.getItemAt(event.newIndex);
						dispatchEvent(new Event(Event.CHANGE));
					}
				}
				
				
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>

	<s:Group left="0" right="0" top="0" bottom="0">
		<s:layout>
			<s:HorizontalLayout gap="0"/>
		</s:layout>
		
		<s:Group width="100%" height="100%">
			<s:layout>
				<s:VerticalLayout gap="0"/>
			</s:layout>
			<s:Spacer height="20" />
			<s:Group width="100%">
				<s:layout>
					<s:HorizontalLayout gap="0"/>
				</s:layout>
				<s:Spacer width="10" />
				<s:List id="list" width="100%" borderAlpha="0" dataProvider="{menuList}"
						itemRenderer="gr.ictpro.mall.client.components.renderers.MenuRenderer" change="list1_changeHandler(event)"/>
			</s:Group>
		</s:Group>
		<s:Group top="0" bottom="0" right="0" width="3" height="100%">
			<s:Rect x="0" y="0" width="3" height="100%">
				<s:fill>
					<s:LinearGradient>
						<s:GradientEntry color="0x999999" alpha="100"/>
						<s:GradientEntry color="0x999999" alpha="0" />
					</s:LinearGradient>
				</s:fill>
			</s:Rect>
		</s:Group>		
	</s:Group>		

	
	
	
	
</s:Group>
