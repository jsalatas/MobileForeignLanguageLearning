<?xml version="1.0" encoding="utf-8"?>
<s:ItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" 
				xmlns:s="gr.ictpro.mall.client.components.*" 
				autoDrawBackground="false" xmlns:mx="library://ns.adobe.com/flex/mx" click="clickHandler(event)"
				>
	<s:states>
		<mx:State name="hasdate"/>
		<mx:State name="nodate"/>
	</s:states>
<fx:Script>
	<![CDATA[
		private static var dayNames:Array = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thusrday', 'Friday', 'Saturday'];
		private static var monthNames:Array = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
		
		override public function set data(value:Object):void
		{
			super.data = value;
			if(value.date == null) {
				currentState = "nodate";
			} else {
				currentState = "hasdate";
			}
		}
		
		protected function clickHandler(event:MouseEvent):void
		{
			// TODO Auto-generated method stub
			
		}
		
	]]>
</fx:Script>	
	<s:Group>
		<s:layout>
			<s:HorizontalLayout gap="5" paddingLeft="5" paddingBottom="5" paddingRight="5" paddingTop="5"/>
		</s:layout>
		<!-- Date -->
		<s:Group visible.nodate="false" visible.hasdate="true">
			<s:layout>
				<s:VerticalLayout gap="5" paddingLeft="5" paddingBottom="5" paddingRight="5" paddingTop="5" horizontalAlign="center"/>
			</s:layout>
			<s:Label id="day" text.hasdate="{dayNames[data.date.getDay()]}" text.nodate="" />
			<s:Label id="date" text.hasdate="{data.date.getDate()}"  text.nodate="" fontSize="{month.getStyle('fontSize')+5}"/>
			<s:Label id="month" text.hasdate="{monthNames[data.date.getDate()]}"  text.nodate="" />
		</s:Group>
		
		<!-- Text -->
		<s:Group>
			<s:layout>
				<s:VerticalLayout gap="5" paddingLeft="5" paddingBottom="5" paddingRight="5" paddingTop="5" horizontalAlign="left"/>
			</s:layout>
			<s:Label id="subject" text="{data.subject}" fontWeight="bold" fontSize="{body.getStyle('fontSize')+2}"/>
			<s:Label id="body" text="{data.message}"/>
		</s:Group>
	</s:Group>
	
</s:ItemRenderer>
